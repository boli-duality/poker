var U=Object.defineProperty;var D=(e,t,r)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var g=(e,t,r)=>(D(e,typeof t!="symbol"?t+"":t,r),r);import{i as $,g as G,h as L,j as H,k as K,l as N,m as R,n as q,p as I,q as J,d as Q,s as W,v as X,w as Y,o as p,c as f,e as n,F as m,x as v,f as y,y as Z,t as z,b as k,z as ee,A,B as w,E as te,C as re,D as B}from"./index-C_9VU0gF.js";function se(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}function ae(e){return e!=null&&$(e.length)&&!G(e)}var oe=Object.prototype;function ne(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||oe;return e===r}function ie(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}function le(){return!1}var S=typeof exports=="object"&&exports&&!exports.nodeType&&exports,C=S&&typeof module=="object"&&module&&!module.nodeType&&module,ce=C&&C.exports===S,O=ce?L.Buffer:void 0,ue=O?O.isBuffer:void 0,pe=ue||le,fe="[object Arguments]",de="[object Array]",he="[object Boolean]",be="[object Date]",ge="[object Error]",ye="[object Function]",xe="[object Map]",me="[object Number]",ve="[object Object]",ke="[object RegExp]",je="[object Set]",Te="[object String]",_e="[object WeakMap]",Ae="[object ArrayBuffer]",we="[object DataView]",Be="[object Float32Array]",Ce="[object Float64Array]",Oe="[object Int8Array]",Ee="[object Int16Array]",Pe="[object Int32Array]",$e="[object Uint8Array]",Ie="[object Uint8ClampedArray]",Se="[object Uint16Array]",Ve="[object Uint32Array]",s={};s[Be]=s[Ce]=s[Oe]=s[Ee]=s[Pe]=s[$e]=s[Ie]=s[Se]=s[Ve]=!0;s[fe]=s[de]=s[Ae]=s[he]=s[we]=s[be]=s[ge]=s[ye]=s[xe]=s[me]=s[ve]=s[ke]=s[je]=s[Te]=s[_e]=!1;function Fe(e){return H(e)&&$(e.length)&&!!s[K(e)]}function Me(e){return function(t){return e(t)}}var V=typeof exports=="object"&&exports&&!exports.nodeType&&exports,h=V&&typeof module=="object"&&module&&!module.nodeType&&module,Ue=h&&h.exports===V,j=Ue&&N.process,E=function(){try{var e=h&&h.require&&h.require("util").types;return e||j&&j.binding&&j.binding("util")}catch{}}(),P=E&&E.isTypedArray,De=P?Me(P):Fe,Ge=Object.prototype,Le=Ge.hasOwnProperty;function He(e,t){var r=I(e),a=!r&&R(e),i=!r&&!a&&pe(e),l=!r&&!a&&!i&&De(e),c=r||a||i||l,d=c?ie(e.length,String):[],x=d.length;for(var o in e)Le.call(e,o)&&!(c&&(o=="length"||i&&(o=="offset"||o=="parent")||l&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||q(o,x)))&&d.push(o);return d}function Ke(e,t){return function(r){return e(t(r))}}var Ne=Ke(Object.keys,Object),Re=Object.prototype,qe=Re.hasOwnProperty;function Je(e){if(!ne(e))return Ne(e);var t=[];for(var r in Object(e))qe.call(e,r)&&r!="constructor"&&t.push(r);return t}function Qe(e){return ae(e)?He(e):Je(e)}function We(e,t){return J(t,function(r){return e[r]})}function Xe(e){return e==null?[]:We(e,Qe(e))}var Ye=Math.floor,Ze=Math.random;function ze(e,t){return e+Ye(Ze()*(t-e+1))}function F(e,t){var r=-1,a=e.length,i=a-1;for(t=t===void 0?a:t;++r<t;){var l=ze(r,i),c=e[l];e[l]=e[r],e[r]=c}return e.length=t,e}function et(e){return F(se(e))}function tt(e){return F(Xe(e))}function T(e){var t=I(e)?et:tt;return t(e)}class rt{constructor(){g(this,"deck",[]);g(this,"players",[]);g(this,"publishCards",[])}createDeck(){const t=["spades","hearts","diamonds","clubs"],r=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],a=[];for(const i of t)for(const l of r)a.push({rank:l,suit:i});this.deck=a}shuffle(){this.deck=T(this.deck),this.deck=T(this.deck),this.deck=T(this.deck)}addPlayer(t){const r={name:t,startingHand:[]};this.players.push(r)}dealCards(){this.players.forEach(t=>t.startingHand.push(this.deck.shift())),this.players.forEach(t=>t.startingHand.push(this.deck.shift()))}publish(t){this.publishCards.push(...this.deck.slice(0,t))}startGame(){this.createDeck(),this.shuffle(),this.dealCards(),this.publish(3)}}const st={class:"flex flex-1 flex-col items-center justify-center"},at={class:"desk-wrap pos-relative"},ot={class:"publish-wrap pos-absolute left-50% top-50% h-92px w-342px flex translate--50% b b-#000 b-solid"},nt=["src"],it={class:"desk h-800px w-800px b b-#000 rd-50% b-solid bg-#AB8E7C"},lt={class:"player-state pos-absolute bottom--60px text-20px c-white fw-bold"},ct={class:"h-90px w-130px flex"},ut=["src"],pt={class:"panel pos-fixed right-20px top-20px flex flex-col items-center p-30px"},ft={class:"mb-30px flex items-center"},dt=n("div",{class:"flex-shrink-0"},"昵称：",-1),ht=Q({__name:"texas",setup(e){const t=W("localhost:3000",{transports:["websocket"]});t.emit("createSocket","cici",c=>{console.log("createSocket",c)}),t.on("play",c=>{console.log("play",c)});const r=X(new rt),a=Y("");function i(){a.value&&r.addPlayer(a.value)}function l(){r.startGame()}return(c,d)=>{const x=te,o=re;return p(),f("div",st,[n("div",at,[n("div",ot,[(p(!0),f(m,null,v(y(r).publishCards,(u,b)=>(p(),f("img",{key:b,class:"card h-90px w-60px b b-#a6a6a6 rd-6px b-solid drag-none",src:`/poker/${u.suit}-${u.rank}.png`},null,8,nt))),128))]),n("div",it,[(p(!0),f(m,null,v(y(r).players,(u,b)=>(p(),f("div",{key:b,class:"player pos-absolute bottom-20px left-50% flex justify-center",style:Z({transform:`translateX(-50%) rotate(${360/y(r).players.length*b}deg)`,transformOrigin:"50% -290px"})},[n("div",lt,z(u.name),1),n("div",ct,[(p(!0),f(m,null,v(u.startingHand,(_,M)=>(p(),f("img",{key:M,class:"card h-90px w-60px b b-#a6a6a6 rd-6px b-solid drag-none",src:`/poker/${_.suit}-${_.rank}.png`},null,8,ut))),128))])],4))),128))])]),n("div",pt,[n("label",ft,[dt,k(x,{modelValue:y(a),"onUpdate:modelValue":d[0]||(d[0]=u=>ee(a)?a.value=u:null),placeholder:"请输入昵称"},null,8,["modelValue"])]),n("div",null,[k(o,{class:"mb",plain:"",onClick:i},{default:A(()=>[w(" 加入游戏 ")]),_:1})]),n("div",null,[k(o,{plain:"",onClick:l},{default:A(()=>[w(" 开始游戏 ")]),_:1})])])])}}});typeof B=="function"&&B(ht);export{ht as default};
